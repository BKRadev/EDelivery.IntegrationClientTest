# Електронно връчване – Описание на уеб услуга за интеграция
#### Версия 5.1
## Цел
Услугата за интеграция със системата за Електронно Връчване има за цел да реализира автоматизираното използване на системата от информационни системи на Административните органи, както и на системи на трети страни (например АИС на община).

## Съдържание

<!-- TOC -->
- [Реализация](#реализация)
- [Адрес на услугата](#адрес-на-услугата)
	- [Продукционна среда](#продукционна-среда)
	- [Тестова среда](#тестова-среда)
- [Достъп до услугата](#достъп-до-услугата)
- [Интеграция](#интеграция)
	- [Конфигурация на връзката с услугата](#конфигурация-на-връзката-с-услугата)
	- [Описание на методите](#описание-на-методите)
		- [GetRegisteredInstitutions](#getregisteredinstitutions)
		- [SendElectronicDocument](#sendelectronicdocument)
		- [SendElectronicDocumentOnBehalfOf](#SendElectronicDocumentOnBehalfOf)
		- [SendMessage](#SendMessage)
		- [SendMessageOnBehalfOf](#SendMessageOnBehalfOf)
		- [SendMessageInReplyTo](#SendMessageInReplyTo)
		- [GetSentDocumentStatusByRegNum](#GetSentDocumentStatusByRegNum)
		- [GetSentMessageStatus](#GetSentMessageStatus)
		- [GetSentDocumentContentByRegNum](#GetSentDocumentContentByRegNum)
		- [GetSentDocumentContent](#GetSentDocumentContent)
		- [GetSentMessagesList](#GetSentMessagesList)
		- [GetSentMessagesListPaged](#GetSentMessagesListPaged)
		- [GetReceivedMessagesList](#GetReceivedMessagesList)
		- [GetReceivedMessagesListPaged](#GetReceivedMessagesListPaged)
		- [GetReceivedMessageContent](#GetReceivedMessageContent)
		- [CheckPersonHasRegistration](#CheckPersonHasRegistration)
		- [GetSubjectInfo](#GetSubjectInfo)
	- [Описание на използваните обекти за данни (data objects)](##описание-на-използваните-обекти-за-данни-data-objects)
		- [DcMessage](#DcMessage)
		- [DcMessageDetails](#DcMessageDetails)
		- [DcDocument](#DcDocument)
		- [DcTimeStamp](#DcTimeStamp)
		- [DcLogin](#DcLogin)
		- [DcProfile](#DcProfile)
		- [DcPersonRegistrationInfo](#DcPersonRegistrationInfo)
		- [DcSubjectShortsInfo](#DcSubjectShortsInfo)
		- [DcSubjectInfo](#DcSubjectInfo)
<!-- /TOC -->



## Реализация
Услугата е реализирана под формата на публично достъпен Web Service. Комуникацията е по  HTTPS протокол и използва SOAP формат на съобщенията. Потребителите на услугата се оторизират и автентикират посредством клиентски сертификат.
## Адрес на услугата
### Продукционна среда
Услугата за интеграция към системата за Електронно връчване е достъпна на адрес:

https://edelivery.egov.bg/Services/EDeliveryIntegrationService.svc 

WSDL на сървиса:

https://edelivery.egov.bg/Services/EDeliveryIntegrationService.svc?wsdl
### Тестова среда
https://edelivery-test.egov.bg 

https://edelivery-test.egov.bg/services/
## Достъп до услугата
Всеки административен орган, който ще използва услугата за интеграция, трябва да направи следните стъпки, за да му бъде разрешен достъпът до нея:
1.	Да има създадена регистрация в системата за Електронно връчване. Регистрациите на административни органи се извършват от администраторите на системата по публикувани правила.

2.	Да предостави на администратора на системата за Електронно връчване публична част на свой сертификат, който ще използва за оторизация и автентикация пред услугата за интеграция.

В случай, че не разполагате със сертификат за целите за оторизация и автентикация пред услугата за интеграция, такъв ще ви бъде издаден и предоставен от ДАЕУ. 

## Интеграция

### Конфигурация на връзката с услугата
```
<binding name="BasicHttpBinding_IEDeliveryIntegrationService"
         closeTimeout="00:10:00" openTimeout="00:10:00" 
         receiveTimeout="00:10:00" sendTimeout="00:10:00" 
         maxReceivedMessageSize="10485760" messageEncoding="Mtom">
  <security mode="TransportWithMessageCredential">
    <message clientCredentialType="Certificate"/>
  </security>
</binding>
```
```
<endpoint address="https://edelivery.egov.bg/Services/EDeliveryIntegrationService.svc"
       binding="basicHttpBinding" 
       bindingConfiguration="BasicHttpBinding_IEDeliveryIntegrationService"
       contract="IntegrationService.IEDeliveryIntegrationService" 
       name="BasicHttpBinding_IEDeliveryIntegrationService" />
```
### Описание на методите:
#### GetRegisteredInstitutions

_Описание_: връща списък от всички регистрирани в системата административни органи.

_Цел_: използването на данните за регистрираните участници от тип Администрация/Лице по чл.1 ал 2 ЗЕУ при изпращане или за визуализиране на информация за наличните регистрирани участници в информационната система на интегриращата се информационна система.

_Входни параметри_: няма

_Резултат_: Масив от обекти DcInstitutionInfo

N.B. Всички следващи методи на услугата имат възможност като входящ параметър да се подаде operatorEGN. Параметърът не е задължителен. Да се подава само в случаите, когато АИС-а, извършващ интеграцията, трябва да допуска до услугата само определени слой служители. В такъв случай е нужно тези служители:

1. Да имат регистрации като физически лица в системата за Електронно Връчване

2. Да им бъде даден достъп до профила в системата за Електронно Връчване на административния орган, към който е интегриращия се АИС

3. При извикване на методите на сървиса за интеграция, да се подава тяхното ЕГН в полето operatorEGN

#### SendElectronicDocument

_Описание:_ изпращане на електронен документ за връчване

_Цел_: изпращане на документ към получател (физ. лице/юр. лице вкл. държ. администрация).

_Входни параметри_:

| Име | Тип | Задължителен? | Описание |
| --- | --- | --- | --- |
| subject | текст | Да | Заглавие на изпратеното съобщение |
| docBytes | масив от байтове | Да | Съдържание в байтове на документа за връчване |
| docNameWithExtension | текст | Да | Име и разширение на документа за връчване (пр. _spavka\_nzok.pdf_) |
| docRegNumber | текст | Не | Входящ номер на документа, ако има такъв |
| receiverType | eProfileType | Да | Получател:
Person - физическо лице
LegalPerson – юридическо лице
Institution - администрация |
| receiverUniqueIdentifier | текст | Да | Уникален идентификатор на получателя. За
Person – да се въведе **ЕГН**
LegalPerson – да се въведе **ЕИК**
Institution – да се въвде **код по БУЛСТАТ** |
| receiverPhone | текст | Не | Телефон на получателя, на който да бъде известен за връчения документ |
| receiverEmail | текст | Не | Еmail адрес на получателя, на който да бъде известен за връчения документ |
| serviceOID | Текст | Не | OID идентификатор на услуга. |
| operatorEGN | текст | Не | Празно или ЕГН на оторизиран потребител |

_Резултат_:

| Тип | Описание |
| --- | --- |
| Цяло число | ID на изпратено съобщение, съдържащо документа за връчване. По това ID може да се проверя статуса на документа – дали е връчен и кога |

#### SendElectronicDocumentOnBehalfOf

_Описание:_ изпращане на електронен документ за връчване от името на физическо лице към административен орган, който вече има регистрация в Е-Връчване.

_Цел:_ Изпращане на документ към администрация от името на физическо лице.

_Входни параметри_:

| Име | Тип | Макс. размер | Задължителен? | Описание |
| --- | --- | --- | --- | --- |
| subject | текст | 500 символа | Да | Заглавие на изпратеното съобщение |
| docBytes | масив от байтове | 10 000 KB | Да | Съдържание в байтове на документа за връчване |
| docNameWithExtension | текст | 500 символа | Да | Име и разширение на документа за връчване (пр. _spavka\_nzok.pdf_).Няма ограничения за разширението! |
| docRegNumber | текст | 500 символа | Не | Входящ номер на документа, ако има такъв |
| senderType | eProfileType |   | Да | Получател:
Person - физическо лице |
| senderUniqueIdentifier | текст | 100 символа | Да | Уникален идентификатор на получателя. За
Person – да се въведе **ЕГН** |
| senderPhone | Текст | 100 символа | Не | Телефон на изпращащия, на който да бъде известен, че има направена регистрация в системата EDelivery (в случай, че до сега не е имал регистрация). |
| senderEmail | Текст | 100 символа | Не | Еmail адрес на изпращащия, на който да бъде известен, че има направена регистрация в системата EDelivery (в случай, че до сега не е имал регистрация). |
| senderFirstName | Текст | 500 символа | Не | Име на получателя. Желателно е да фигурира, за да се визуализира подателя на съобщението в профила на администрацията – получател. |
| senderLastName | Текст | 500 символа | Не | Фамилия на получателя. Желателно е да фигурира, за да се визуализира подателя на съобщението в профила на администрацията – получател. |
| receiverType | eProfileType |   | Да | Получател:
Institution - администрация |
| receiverUniqueIdentifier | текст | 100 символа | Да | Уникален идентификатор на получателя.
Institution – да се въведе **код по БУЛСТАТ** |
| serviceOID | Текст | 100 символа | Не | OID идентификатор на услуга. |
| operatorEGN | текст | 10 символа | Не | Празно или ЕГН на оторизиран потребител |

_Резултат_:

| Тип | Описание |
| --- | --- |
| Цяло число | ID на изпратено съобщение, съдържащо документа за връчване. По това ID може да се проверя статуса на документа – дали е връчен и кога |

#### SendMessage

_Описание:_ изпращане съобщение с нула, един или повече документи за връчване. Задължително е да се добави или поне един документ или текст на съобщението.

_Цел_: Изпращане на съобщение или съобщение с прикрепен документ/документи към него към получател физическо или юридическо лице, вкл. държавна администрация.

_Входни параметри_:

| Име | Тип | Задължителен? | Описание |
| --- | --- | --- | --- |
| Message | DcMessageDetails | Да | Обект на съобщение. Задължителни полета:Title,Text или поне един обект от тип AttachedDocument |
| receiverType | eProfileType | Да | Получател:
Person - физическо лице
LegalPerson – юридическо лице
Institution - администрация |
| receiverUniqueIdentifier | текст | Да | Уникален идентификатор на получателя. За
Person – да се въведе **ЕГН**
LegalPerson – да се въведе **ЕИК**
Institution – да се въведе **код по БУЛСТАТ** |
| receiverPhone | текст | Не | Телефон на получателя, на който да бъде известен за връчения документ |
| receiverEmail | текст | Не | Еmail адрес на получателя, на който да бъде известен за връчения документ |
| serviceOID | Текст | Не | OID идентификатор на услуга. |
| operatorEGN | текст | Не | Празно или ЕГН на оторизиран потребител |

_Резултат_:

| Тип | Описание |
| --- | --- |
| Цяло число | ID на изпратено съобщение, съдържащо документа за връчване. По това ID може да се проверя статуса на документа – дали е връчен и кога |

#### SendMessageOnBehalfOf

_Описание:_ изпращане на съобщение от името на физическо лице към административен орган, който вече има регистрация в Е-Връчване. Съобщението може да има нула, един или повече прикачени документа за връчване. Задължително е да се добави или поне един документ или текст на съобщението.

_Цел:_ Изпращане на съобщение към администрация от името на физическо лице. Съобщението може да се състои само от текст или да има прикачени документ/документи.

_Входни параметри_:

| Име | Тип | Макс. размер | Задължителен? | Описание |
| --- | --- | --- | --- | --- |
| Message | DcMessageDetails
 | 10 000 KB за общия размер на всички прикачени документ | Да | Обект на съобщение. Задължителни полета:Title,Text или поне един обект от тип AttachedDocument |
| senderType | eProfileType |   | Да | Получател:
Person - физическо лице |
| senderUniqueIdentifier | текст | 100 символа | Да | Уникален идентификатор на получателя. За
Person – да се въведе **ЕГН** |
| senderPhone | Текст | 100 символа | Не | Телефон на изпращащия, на който да бъде известен, че има направена регистрация в системата EDelivery (в случай, че до сега не е имал регистрация). |
| senderEmail | Текст | 100 символа | Не | Еmail адрес на изпращащия, на който да бъде известен, че има направена регистрация в системата EDelivery (в случай, че до сега не е имал регистрация). |
| senderFirstName | Текст | 500 символа | Не | Име на получателя. Желателно е да фигурира, за да се визуализира подателя на съобщението в профила на администрацията – получател. |
| senderLastName | Текст | 500 символа | Не | Фамилия на получателя. Желателно е да фигурира, за да се визуализира подателя на съобщението в профила на администрацията – получател. |
| receiverType | eProfileType |   | Да | Получател:
Institution - администрация |
| receiverUniqueIdentifier | текст | 100 символа | Да | Уникален идентификатор на получателя.
Institution – да се въведе **код по БУЛСТАТ** |
| serviceOID | Текст | 100 символа | Не | OID идентификатор на услуга. |
| operatorEGN | текст | 10 символа | Не | Празно или ЕГН на оторизиран потребител |

_Резултат_:

| Тип | Описание |
| --- | --- |
| Цяло число | ID на изпратено съобщение, съдържащо документа за връчване. По това ID може да се проверя статуса на документа – дали е връчен и кога |

#### SendMessageInReplyTo

_Описание_: изпращане на съобщение в отговор на получено съобщение. Методът приема Id на получено съобщение. Извършва се проверка дали профилът, който прави отговор на съобщението съвпада с профила-получател на това съобщение. Ако профилът съвпада се прави отговор. Ако профилът не съвпада възниква грешка от тип **UnauthorizedAccessException**.

_Цел_: От информационна система на получателя да бъде изпратен отговор на вече получено съобщение.

_Входни параметри_:

| Име | Тип | Задължителен? | Описание |
| --- | --- | --- | --- |
| message | DcMessageDetails | Да | Обект на съобщение. Задължителни полета: Title, Text или поне едн обект от тип AttachedDocument |
| replyToMessageId | Цяло число | Да | Id на получено съобщение. Може да се извлече чрез извикване на някой от метода GetReceivedMessagesList / GetReceivedMessagesListPaged / GetReceivedMessageContent |
| serviceOID |   | Текст | Не | OID идентификатор на услуга.   |
| operatorEGN |   | текст | Не | Празно или ЕГН на оторизиран потребител |
|  _Резултат_:   |   |   |   |
| Тип | Описание |   |   |
| Цяло число | ID на изпратено съобщение, съдържащо документа за връчване. По това ID може да се проверя статуса на документа – дали е връчен и кога |



#### GetSentDocumentStatusByRegNum

_Описание:_ Извличане на статус на изпратен документ за връчване по входящ номер

_Цел_: Да бъде проверен статуса на вече изпратен документ като се ползва входящ номер. Статусът на документа дава информация дали този документ е отворен и кога е извършено отварянето от страна на получателя.

_Входни параметри_:

| Име | Тип | Задължителен? | Описание |
| --- | --- | --- | --- |
| documentRegistrationNumber | текст | Да | Входящ номер на връчен документ |
| operatorEGN | текст | Не | Празно или ЕГН на оторизиран потребител |

_Резултат_:

| Тип | Описание |
| --- | --- |
| **DcMessageDetails** | Обект, съдържащ информация за връчен документ. За детайли – виж описание на data objects в следващата секция. |

#### GetSentMessageStatus

_Описание:_ Извличане на статус на изпратено съобщение по ID на съобщението

_Цел_: От страна на информационна система да бъде получен статуса на вече изпратено съобщение като се използва **ID на документа.**

_Входни параметри_:

| Име | Тип | Задължителен? | Описание |
| --- | --- | --- | --- |
| messageId | Цяло число | Да | ID на изпратено съобщение |
| operatorEGN | текст | Не | Празно или ЕГН на оторизиран потребител |

_Резултат_:

| Тип | Описание |
| --- | --- |
| **DcMessageDetails** | Обект, съдържащ информация за връчен документ. За детайли – виж описание на data objects в следващата секция. |



#### GetSentDocumentContentByRegNum

_Описание:_Извличане на съдържанието на изпратен документ по входящ номер

_Цел_: Извличане на съдържание на изпратен документ като се ползва входящ номер

_Входни параметри_:

| Име | Тип | Задължителен? | Описание |
| --- | --- | --- | --- |
| documentRegistrationNumber | текст | Да | Входящ номер на връчен документ |
| operatorEGN | текст | Не | Празно или ЕГН на оторизиран потребител |

_Резултат_:

| Тип | Описание |
| --- | --- |
| **DcDocument** | Обект, представляващ връчен документ. За детайли – виж описание на data objects в следващата секция. |

**GetSentDocumentContent**

_Описание:_Извличане на съдържанието на изпратен документ по ID на документа.

_Цел_: Извличане на съдържание на изпратен документ като се ползва **ID на документа**

_Входни параметри_:

| Име | Тип | Задължителен? | Описание |
| --- | --- | --- | --- |
| documentId | цяло число | Да | ID на връчен документ |
| operatorEGN | текст | Не | Празно или ЕГН на оторизиран потребител |

_Резултат_:

| Тип | Описание |
| --- | --- |
| **DcDocument** | Обект, представляващ връчен документ. За детайли – виж описание на data objects в следващата секция. |

#### GetSentMessagesList

_Описание_: Извличане на списък с всички изпратени съобщения и документи за връчване

_Цел_: Получаване на списък на изпратени съобщения и документи с оглед ползването на списъка в интегриращата информационна система за визуализиране или последваща обработка.

_Входни параметри_:

| Име | Тип | Задължителен? | Описание |
| --- | --- | --- | --- |
| operatorEGN | текст | Не | Празно или ЕГН на оторизиран потребител |

_Резултат_:

| Тип | Описание |
| --- | --- |
| **DcMessage[]** | Масив от обекти, представляващи съобщение.  За детайли – виж описание на data objects в следващата секция. |

#### GetSentMessagesListPaged

_Описание:_ Извличане на странициран списък с всички изпратени съобщения и документи за връчване.

_Цел_: Получаване на странициран списък на изпратени съобщения и документи с оглед ползването на списъка в интегриращата информационна система за визуализиране или последваща обработка.

_Входни параметри_:

| Име | Тип | Задължителен? | Описание |
| --- | --- | --- | --- |
| pageNumber | цяло число > 0 | Да | Номер на страница |
| pageSize | цяло число > 0 | Да | Брой елементи на страница |
| operatorEGN | текст | Не | Празно или ЕГН на оторизиран потребител |

_Резултат_:

| Тип | Описание |
| --- | --- |
| **DcPartialList**`<DcMessage>` | Обект, съдържащ списък от зададения брой елементи, както и броя на всички елементи |

#### GetReceivedMessagesList

_Описание_: Извличане на списък с всички получени съобщения и документи за връчване

_Цел_: Получаване на списък на получените съобщения и документи с оглед ползването на списъка в интегриращата информационна система за визуализиране или последваща обработка.

_Входни параметри_:

| Име | Тип | Задължителен? | Описание |
| --- | --- | --- | --- |
| onlyNew | Да/Не | Да | Дали да бъдат върнати само неотваряните съобщения |
| operatorEGN | текст | Не | Празно или ЕГН на оторизиран потребител |

_Резултат_:

| Тип | Описание |
| --- | --- |
| **DcMessage[]** | Масив от обекти, представляващи съобщение.  За детайли – виж описание на data objects в следващата секция. |

#### GetReceivedMessagesListPaged

_Описание:_ Извличане на странициран списък с всички получени съобщения и документи за връчване.

_Цел_: Получаване на странициран списък на получените съобщения и документи с оглед ползването на списъка в интегриращата информационна система за визуализиране или последваща обработка.

_Входни параметри_:

| Име | Тип | Задължителен? | Описание |
| --- | --- | --- | --- |
| onlyNew | Да/Не | Да | Дали да бъдат върнати само неотваряните съобщения |
| pageNumber | цяло число > 0 | Да | Номер на страница |
| pageSize | цяло число > 0 | Да | Брой елементи на страница |
| operatorEGN | текст | Не | Празно или ЕГН на оторизиран потребител |

_Резултат_:

| Тип | Описание |
| --- | --- |
| **DcPartialList `<DcMessage>` ** | Обект, съдържащ списък от зададения брой елементи, както и броя на всички елементи |

#### GetReceivedMessageContent

_Описание:_ Връща съдържането на получено съобщение и документи

_Цел_: Извличане от страна на информационната система на съдържанието на съобщение и документ.

_Входни параметри_:

| Име | Тип | Задължителен? | Описание |
| --- | --- | --- | --- |
| messageId | Цяло число | Да | ID на получено съобщение. Може да се вземе от списъка с всички получени съобщения |
| operatorEGN | текст | Не | Празно или ЕГН на оторизиран потребител |

_Резултат_:

| Тип | Описание |
| --- | --- |
| **DcMessageDetails** | Обект, представляващ съобщение. .  За детайли – виж описание на data objects в следващата секция. |

#### CheckPersonHasRegistration

_Описание_: Проверява дали физическо лице с подаденото ЕГН/ЛНЧ има активна регистрация в системата за Електронно Връчване. В случай, че има регистрация, като резултат се връщат Име/ЕИК/Тин на профила на всички профили от тип Institution/LegalPerson, до които лицето има достъп.

_Цел_: От страна на интегриращата информационна система да се провери преди да се извърши изпращане, дали за определено лице има регистрация в системата за електронно връчване.

_Входни параметри_:

| Име | Тип | Задължителен? | Описание |
| --- | --- | --- | --- |
| personIdentificator | Текст | Да | ЕГН или ЛНЧ на физ. лице |

_Резултат_:

| Тип | Описание |
| --- | --- |
| **DcPersonRegistrationInfo** | Обект, съдържащ информация дали лицето има регистрация и профилите, до които има достъп. |

#### GetSubjectInfo

_Описание_: Извлича информация за потребител на системата за Сигурно Електронно Връчване – Person/Legal Person/Institution. Чрез този метод може да се извлече информация за изпращача на получено съобщение – ЕГН/ЕИК, име, телефон, електронна поща и др.

_Цел_: Да се получи информация за профила на изпращача от който е получено съобщение, която може да се използва в информационната система към която се интегрира.

_Входни параметри_:

| Име | Тип | Задължителен? | Описание |
| --- | --- | --- | --- |
| electronicSubjectId | GUID | Да | ElectronicSujectId е поле в профил. (Примерно за елемент от списъка GetReseivedMessagesList може да се вземе  чрез достъп до SenderProfile.ElectronicSubjectId) |
| operatorEGN | текст | Не | Празно или ЕГН на оторизиран потребител |

_Резултат_:

| Тип | Описание |
| --- | --- |
| **DcSubjectInfo** | Обект, съдържащ информация за профила.   |

#### Описание на използваните обекти за данни (data objects)

##### DcMessage

Обект, представляващ съобщение

| Поле | Тип | Описание |
| --- | --- | --- |
| Id | Цяло число | ID на съобщение |
| Title | Текст | Заглавие |
| DateCreated | Дата и час | Дата на създаване |
| DateSent | Дата и час | Дата на изпращане или празно, ако не е изпратено |
| DateReceived | Дата и час | Дата на отваряне от получателя или празно, ако не е отворено |
| SenderLogin | DcLogin | Потребител, който е пратил съобщението |
| ReceiverLogin | DcLogin | Потребител, който е отворил съобщението |
| SenderProfile | DcProfile | Профил, от който е пратено съобщението |
| ReceiverProfile | DcProfile | Профил,  на който е пратено съобщението |

##### DcMessageDetails

Съдържа всички полета от DcMessage и добавя към тях следните:

| Поле | Тип | Описание |
| --- | --- | --- |
| MessageText | Текст | Текст на съобщението, ако има |
| AttachedDocuments | List`<DcDocument>` | Списък с документи, връчени в рамките на съобщението |
| TimeStampNRO | DcTimeStamp | Удостоверение за време на изпращане |
| TimeStampNRD | DcTimeStamp | Удостоверение за време на получаване |

##### DcDocument

Обект, съдържащ документ

| Поле | Тип | Макс. размер | Описание |
| --- | --- | --- | --- |
| Id | Цяло число | 4 байта | ID на документа |
| DocumentName | Текст | 500 символа | Име и разширение на документа. _Няма ограничения за разширението._ |
| ContentType | Текст | 150 символа | MIME тип на документа |
| Content | Масив от байтове | 10 000 KB | Съдържание в байтове на документа |
| TimeStamp | DcTimeStamp |   | Удостоверение за време на изпращане |
| DocumentRegistrationNumber | текст | 500 символа | Входящ номер на документ, ако има |

##### DcTimeStamp

Представлява удостоверение за време

| Поле | Тип | Описание |
| --- | --- | --- |
| FileName | Текст | Име на файла, в който е удостоверението за време |
| TimeStampData | Масив от байтове | Съдържание на удостоверението за време |

##### DcLogin

Представлява обект, чрез който се извършва автентикация пред системата за Електронно Връчване.

| Поле | Тип | Описание |
| --- | --- | --- |
| Id | Цяло число | ID на обекта |
| ElectronicSubjectId | Guid | Идентификатор на физическо лице, което се автентикира посредством обекта |
| ElectronicSubjectName | Текст | Трите имена на физическо лице, което се автентикира посредством обекта |
| IsActive | Да/Не | Дали е активиран профила. |

##### DcProfile

Профил на потребител на системата за електронно връчване. Може да бъде от тип Физическо лице, Юридическо лице в т.ч. лица по чл.1 от ЗЕУ.

| Поле | Тип | Описание |
| --- | --- | --- |
| Id | Цяло число | ID на обекта |
| ElectronicSubjectId | Guid | Идентификатор на физическо лице, което се автентикира посредством обекта |
| ElectronicSubjectName | Текст | Трите имена на физическо лице, което се автентикира посредством обекта |
| ProfileType | eProfileType | Тип на профила |
| Email | Текст | Email на профила |
| Phone | Текст | Телефон на профила |

##### DcPersonRegistrationInfo

| Поле | Тип | Описание |
| --- | --- | --- |
| PersonIdentificator | Текст | ЕГН/ЛНЧ на физ. лице, за което е извикан метода |
| HasRegistration | Bool | Дали лицето има активна регистрация в системата за Е-Връчване |
| AccessibleProfiles | Списък от DcSubjectShortInfo | Списък с профилите, до които лицето има достъп (от тип LegalPerson/Institution) |

##### DcSubjectShortsInfo

Кратка информация за юридическо лице или институция

| Поле | Тип | Описание |
| --- | --- | --- |
| ProfileType | еProfileType | Тип на профила |
| EIK | Текст | ЕИК |
| Name | Текст | Име |

##### DcSubjectInfo

Информация за физическо лице, юридическо лице или институция.

| Поле | Тип | Описание |
| --- | --- | --- |
| ProfileType | еProfileType | Тип на профила |
| UniqueSubjectIdentifier | Текст | Уникален идентификатор: ЕГН, ЛНЧ или ЕИК в зависимост от типа на профила |
| Address | DcAddress | Обект, съдържаш информация за адрес. |
| ElectronicSubjectId | Guid | Идентификатор на физическо лице, което се автентикира посредством обекта |
| ElectronicSubjectName | Текст | Трите имена на физическо лице, което се автентикира посредством обекта |
| Email | Текст | Email на профила |
| PhoneNumber | Текст | Телефон на профила |
| IsActivated | True/False | Информация дали профилът е активен |
